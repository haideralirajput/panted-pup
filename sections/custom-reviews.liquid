{% schema %}
{
  "name": "Custom Testimonial",
  "tag": "section",
  "class": "custom-testimonials",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "What Our Customers Say"
    },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "Subheading",
      "default": "Real reviews from real people"
    }
  ],
  "blocks": [
    {
      "type": "review",
      "name": "Review",
      "settings": [
        {
          "type": "textarea",
          "id": "review_text",
          "label": "Review Text",
          "default": "This product exceeded my expectations."
        },
        {
          "type": "text",
          "id": "signature",
          "label": "Signature / Name",
          "default": "John D."
        }
      ]
    }
  ],
  "max_blocks": 3,
  "presets": [
    {
      "name": "Custom Testimonial",
      "blocks": [
        { "type": "review" },
        { "type": "review" },
        { "type": "review" }
      ]
    }
  ]
}
{% endschema %}
<div class="custom-testimonials__inner page-width">

  <!-- Stars -->
  <div class="custom-testimonials__stars">
    ★★★★★
  </div>

  <!-- Heading -->
  <h2 class="custom-testimonials__heading">
    {{ section.settings.heading }}
  </h2>

  <!-- Subheading -->
  <p class="custom-testimonials__subheading">
    {{ section.settings.subheading }}
  </p>

  <!-- Reviews -->
  <div class="custom-testimonials__reviews swiper">
    <div class="swiper-wrapper">

      {% for block in section.blocks %}
        <div class="custom-testimonials__review swiper-slide">
          <p class="custom-testimonials__text">
            {{ block.settings.review_text }}
          </p>
          <span class="custom-testimonials__signature">
            {{ block.settings.signature }}
          </span>
        </div>
      {% endfor %}

    </div>
  </div>

</div>
<style>
.custom-testimonials {
  padding-block: 60px;
  background-color: #55733D;
}

.custom-testimonials__inner {
  text-align: center;
}

.custom-testimonials__stars {
  font-size: 18px;
  margin-bottom: 12px;
  color: #fff;
}

.custom-testimonials__heading {
  font-size: 36px;
  margin-bottom: 8px;
  margin-top: 0;
  color: #fff;
}

.custom-testimonials__subheading {
  font-size: 16px;
  margin-bottom: 40px;
  margin-top: 0;
  color: #fff;
}

/* Reviews layout */
.custom-testimonials__reviews {
  width: 100%;
  color: #fff;
}

.custom-testimonials__review {
  max-width: 320px;
  margin: 0 auto;
}

.custom-testimonials__text {
  font-size: 16px;
  margin-bottom: 12px;
}

.custom-testimonials__signature {
  font-size: 14px;
  opacity: 0.7;
}

/* Desktop: 3 columns */
@media (min-width: 769px) {
  .custom-testimonials__reviews .swiper-wrapper {
    display: flex;
    justify-content: space-between;
    gap: 40px;
  }

  .custom-testimonials__review {
    max-width: none;
    flex: 1;
  }
}
@media screen and (max-width: 768px) {
    .custom-testimonials__review {
        max-width: none;
    }
}
</style>
<script>
document.addEventListener('DOMContentLoaded', function () {
  if (window.innerWidth <= 768) {
    new Swiper('.custom-testimonials__reviews', {
      slidesPerView: 1,
      spaceBetween: 20,
      allowTouchMove: true,
      loop: true
    });
  }
});
</script> 
